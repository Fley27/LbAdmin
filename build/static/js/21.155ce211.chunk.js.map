{"version":3,"sources":["redux/actions/user.js","Demo/Dashboard/addCoins.js"],"names":["loadUsers","dispatch","a","type","FETCH_USER_REQUEST","axios","get","res","FETCH_USER_SUCCESS","payload","data","users","FETCH_USER_FAIL","setAlert","blockUser","userData","config","headers","BLOCK_USER_REQUEST","_id","body","JSON","stringify","put","BLOCK_USER_SUCCESS","success","BLOCK_USER_FAIL","deleteUser","DELETE_USER_REQUEST","delete","DELETE_USER_SUCCESS","DELETE_USER_FAIL","selectUser","SELECT_USER_REQUEST","post","SELECT_USER_SUCCESS","user","SELECT_USER_FAIL","editCoinsUser","EDIT_COINS_REQUEST","params","EDIT_COINS_SUCCESS","EDIT_COINS_FAIL","AddCoins","props","handleChange","e","console","log","target","id","value","setState","onSubmit","preventDefault","coins","profile","state","accion","numero","obj","this","history","push","nextProps","md","className","name","mb","Group","Label","Control","onChange","as","placeholder","variant","Component","connect","auth","withRouter"],"mappings":"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","file":"static/js/21.155ce211.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { setAlert } from \"./alert\";\r\nimport {\r\n  FETCH_USER_REQUEST,\r\n  FETCH_USER_SUCCESS,\r\n  FETCH_USER_FAIL,\r\n  ADD_USER_REQUEST,\r\n  ADD_USER_SUCCESS,\r\n  ADD_USER_FAIL,\r\n  SELECT_USER_REQUEST,\r\n  SELECT_USER_SUCCESS,\r\n  SELECT_USER_FAIL,\r\n  EDIT_COINS_REQUEST,\r\n  EDIT_COINS_SUCCESS,\r\n  EDIT_COINS_FAIL,\r\n  BLOCK_USER_REQUEST,\r\n  BLOCK_USER_SUCCESS,\r\n  BLOCK_USER_FAIL,\r\n  DELETE_USER_REQUEST,\r\n  DELETE_USER_SUCCESS,\r\n  DELETE_USER_FAIL,\r\n} from \"../const\";\r\n\r\nexport const loadUsers = () => async (dispatch) => {\r\n  dispatch({\r\n    type: FETCH_USER_REQUEST,\r\n  });\r\n\r\n  try {\r\n    const res = await axios.get(`https://libidoonbackend.herokuapp.com/api/user`);\r\n    dispatch({\r\n      type: FETCH_USER_SUCCESS,\r\n      payload: res.data.users,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: FETCH_USER_FAIL,\r\n    });\r\n    dispatch(setAlert(`Error ${error}`, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const blockUser = (userData) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  dispatch({\r\n    type: BLOCK_USER_REQUEST,\r\n  });\r\n\r\n  const { _id } = userData;\r\n  const body = JSON.stringify(userData);\r\n\r\n  try {\r\n    const res = await axios.put(\r\n      `https://libidoonbackend.herokuapp.com/api/user/block/${_id}`,\r\n      body,\r\n      config\r\n    );\r\n    dispatch({\r\n      type: BLOCK_USER_SUCCESS,\r\n      payload: res.data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: BLOCK_USER_FAIL,\r\n    });\r\n    dispatch(setAlert(`Error ${error}`, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const deleteUser = (userData) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  dispatch({\r\n    type: DELETE_USER_REQUEST,\r\n  });\r\n\r\n  const { _id } = userData;\r\n\r\n  try {\r\n    const res = await axios.delete(\r\n      `https://libidoonbackend.herokuapp.com/api/user/delete/${_id}`,\r\n      config\r\n    );\r\n    dispatch({\r\n      type: DELETE_USER_SUCCESS,\r\n      payload: res.data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: DELETE_USER_FAIL,\r\n    });\r\n    dispatch(setAlert(`Error ${error}`, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const selectUser = (userData) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  dispatch({\r\n    type: SELECT_USER_REQUEST,\r\n  });\r\n\r\n  const body = JSON.stringify(userData);\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      `https://libidoonbackend.herokuapp.com/api/user/select`,\r\n      body,\r\n      config\r\n    );\r\n    dispatch({\r\n      type: SELECT_USER_SUCCESS,\r\n      payload: res.data.user,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: SELECT_USER_FAIL,\r\n    });\r\n    dispatch(setAlert(`Error ${error}`, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const editCoinsUser = (userData) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  dispatch({\r\n    type: EDIT_COINS_REQUEST,\r\n  });\r\n\r\n  const { params } = userData;\r\n  const body = JSON.stringify(userData);\r\n\r\n  try {\r\n    const res = await axios.put(\r\n      `https://libidoonbackend.herokuapp.com/api/user/coins/${params}`,\r\n      body,\r\n      config\r\n    );\r\n    dispatch({\r\n      type: EDIT_COINS_SUCCESS,\r\n      payload: res.data.user,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: EDIT_COINS_FAIL,\r\n    });\r\n    dispatch(setAlert(`Error ${error}`, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const addUser = (userData) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  dispatch({\r\n    type: ADD_USER_REQUEST,\r\n  });\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      `https://libidoonbackend.herokuapp.com/api/user`,\r\n      userData,\r\n      config\r\n    );\r\n    dispatch({\r\n      type: ADD_USER_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ADD_USER_FAIL,\r\n    });\r\n    dispatch(setAlert(`Error ${error}`, \"danger\"));\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Col, Button, Form, Card, Row } from \"react-bootstrap\";\r\n\r\nimport \"./user.scss\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { editCoinsUser } from \"../../redux/actions/user\";\r\nclass AddCoins extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      numero: \"\",\r\n      accion: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { users } = this.props.user;\r\n    console.log(`${users}`);\r\n    if (!users) {\r\n      this.props.history.push(\"/dashboard/default\");\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (!nextProps.user.user) {\r\n      console.log(`${this.props.user.user}`);\r\n      this.props.history.push(\"/dashboard/default\");\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    console.log(\r\n      \"targeting state \" + e.target.id + \" with value \" + e.target.value\r\n    );\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { user } = this.props.user;\r\n    let coins = user.profile.coins;\r\n    if (this.state.accion === \"minus\") coins -= this.state.numero;\r\n    else {\r\n      coins = coins * -1;\r\n      let number = this.state.numero * -1;\r\n      coins += number;\r\n      coins = coins * -1;\r\n    }\r\n    console.log(coins);\r\n    const obj = {\r\n      coins: coins,\r\n      params: user._id,\r\n    };\r\n    this.props.editCoinsUser(obj);\r\n  };\r\n  render() {\r\n    const { user } = this.props.user;\r\n    return (\r\n      <Row md={12}>\r\n        <Col md={4}>\r\n          <Card className='left-card'>\r\n            <Col md={12}>{user ? user.profile.name : \"\"}</Col>\r\n            <Col md={12}>{user ? user.profile.coins : \"\"}</Col>\r\n          </Card>\r\n        </Col>\r\n        <Col md={8}>\r\n          <div className='main-content'>\r\n            <div className='container-fluid'>\r\n              <div className='row'>\r\n                <div className='col-md-12'>\r\n                  <div className='card'>\r\n                    <div className='card-header card-header-danger'>\r\n                      <h4 className='card-title '>\r\n                        Editar monedas del Usuario\r\n                      </h4>\r\n                    </div>\r\n                    <div className='card-body'>\r\n                      <Col md={12}>\r\n                        <Col md={12}>\r\n                          <h4>\r\n                            Número de monedas: {user ? user.profile.coins : \"\"}\r\n                          </h4>\r\n                        </Col>\r\n                        <Form onSubmit={this.onSubmit} md={12}>\r\n                          <Row>\r\n                            <Col mb={4}>\r\n                              <Form.Group>\r\n                                <Form.Label>Elige una acción*</Form.Label>\r\n                                <Form.Control\r\n                                  onChange={this.handleChange}\r\n                                  value={this.state.accion}\r\n                                  id='accion'\r\n                                  as='select'\r\n                                  className='mb-3'\r\n                                >\r\n                                  <option value='add'>Anadir monedas</option>\r\n                                  <option value='minus'>\r\n                                    Sustraer monedas\r\n                                  </option>\r\n                                </Form.Control>\r\n                              </Form.Group>\r\n                            </Col>\r\n                            <Col mb={4}>\r\n                              <Form.Group>\r\n                                <Form.Label>Número*</Form.Label>\r\n                                <Form.Control\r\n                                  onChange={this.handleChange}\r\n                                  value={this.state.numero}\r\n                                  id='numero'\r\n                                  type='number'\r\n                                  placeholder='Cantidad de monedas'\r\n                                />\r\n                              </Form.Group>\r\n                            </Col>\r\n                          </Row>\r\n                          <Col md={8}>\r\n                            <Button variant='danger' type='submit'>\r\n                              ACTUALIZAR\r\n                            </Button>\r\n                          </Col>\r\n                        </Form>\r\n                      </Col>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nAddCoins.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  editCoinsUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  user: state.user,\r\n});\r\nexport default connect(mapStateToProps, { editCoinsUser })(\r\n  withRouter(AddCoins)\r\n);\r\n"],"sourceRoot":""}